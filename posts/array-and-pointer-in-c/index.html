<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"> <title id="site-title">æ•°ç»„åå’ŒæŒ‡é’ˆçš„åŒºåˆ« | c0ldcat's blog</title> <link rel="icon" href="/c0ldcat.png"> <link rel="stylesheet" type="text/css" href="/css/main.css"> <link rel="alternate" type="application/rss+xml" title="RSS Feed for c0ldcat's blog" href="/feed.xml" /> <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script> <script type="text/javascript" src="/js/jquery.typetype.min.js"></script> <script> var _hmt = _hmt || []; (function () { var hm = document.createElement("script"); hm.src = "https://hm.baidu.com/hm.js?e1acee033923881f5528a3b4a658039b"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s); })(); </script> <style> .block-left { background-size: cover; background-position-x: right; } </style> <!-- Begin Jekyll SEO tag v2.5.0 --> <title>æ•°ç»„åå’ŒæŒ‡é’ˆçš„åŒºåˆ« | c0ldcatâ€™s blog</title> <meta name="generator" content="Jekyll v3.8.3" /> <meta property="og:title" content="æ•°ç»„åå’ŒæŒ‡é’ˆçš„åŒºåˆ«" /> <meta name="author" content="c0ldcat" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="è½¬è‡ªzhanjindongçš„è¶Šç®€å•è¶Šå¥½ï¼šæ•°ç»„åå’ŒæŒ‡é’ˆçš„åŒºåˆ«" /> <meta property="og:description" content="è½¬è‡ªzhanjindongçš„è¶Šç®€å•è¶Šå¥½ï¼šæ•°ç»„åå’ŒæŒ‡é’ˆçš„åŒºåˆ«" /> <link rel="canonical" href="//blog.c0ldcat.ml/posts/array-and-pointer-in-c/" /> <meta property="og:url" content="//blog.c0ldcat.ml/posts/array-and-pointer-in-c/" /> <meta property="og:site_name" content="c0ldcatâ€™s blog" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2017-09-15T18:31:04+08:00" /> <script type="application/ld+json"> {"@type":"BlogPosting","url":"//blog.c0ldcat.ml/posts/array-and-pointer-in-c/","headline":"æ•°ç»„åå’ŒæŒ‡é’ˆçš„åŒºåˆ«","dateModified":"2017-09-15T18:31:04+08:00","datePublished":"2017-09-15T18:31:04+08:00","author":{"@type":"Person","name":"c0ldcat"},"description":"è½¬è‡ªzhanjindongçš„è¶Šç®€å•è¶Šå¥½ï¼šæ•°ç»„åå’ŒæŒ‡é’ˆçš„åŒºåˆ«","mainEntityOfPage":{"@type":"WebPage","@id":"//blog.c0ldcat.ml/posts/array-and-pointer-in-c/"},"@context":"http://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <div class="block-left"> <div class="content"> <div class="main-info"> <a href="/" class="logo"><img src="/images/c0ldcat-pure-white.svg" class="logo"></a> <h1> <span id="author-name">c0ldcat</span><span>&#39;s blog</span> </h1> <ul> <li><a href="/posts" class="emoji-nav">ğŸ–Šï¸</a></li> <li><a href="/projects" class="emoji-nav">ğŸˆ</a></li> <li><a href="/tags" class="emoji-nav">ğŸ”–</a></li> <li><a href="/love" class="emoji-nav">â¤ï¸</a></li> </ul> </div> </div> <canvas></canvas> </div> <div id="pages" class="block-right"> <div class="inner-post content"> <h1>æ•°ç»„åå’ŒæŒ‡é’ˆçš„åŒºåˆ«</h1> <div class="date-highlight">15 Sep 2017</div> <blockquote> <p>è½¬è‡ª<a href="https://github.com/zhanjindong">zhanjindong</a>çš„<a href="http://www.cnblogs.com/zhanjindong/archive/2013/02/15/2912892.html">è¶Šç®€å•è¶Šå¥½ï¼šæ•°ç»„åå’ŒæŒ‡é’ˆçš„åŒºåˆ«</a></p> </blockquote> <p>æˆ‘ç›¸ä¿¡å¾ˆå¤šäººéƒ½è·Ÿæˆ‘ä¸€æ ·è¢«æŸäº›ä¹¦å®³çš„ä¸æµ…ï¼Œåœ¨Cè¯­è¨€ä¸­ä¸€ç›´è¿˜æŠŠæŒ‡é’ˆè·Ÿæ•°ç»„åæ··ä¸ºä¸€è°ˆã€‚å…¶å®å®ƒä»¬è·Ÿæœ¬å°±æ˜¯ä¸¤æ ·çš„ä¸œè¥¿ï¼ŒæŒ‡é’ˆå°±æ˜¯æŒ‡é’ˆï¼Œæ•°ç»„å°±æ˜¯æ•°ç»„ï¼Œç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šå¤§ç‰›ä½œè¿‡å¾ˆå¤šéå¸¸æ·±å…¥çš„è®¨è®ºï¼Œä½†æ˜¯ä¸ªäººæ„Ÿè§‰æœ‰æ—¶å€™æŠŠé—®é¢˜æƒ³å¾—å¤ªå¤æ‚äº†åè€Œä¸å¥½ï¼Œå°¤å…¶æ˜¯å¯¹äºæ–°æ‰‹ï¼Œå› ä¸ºæˆ‘ä»¬æ–°æ‰‹å¾ˆéš¾ææ‡‚ç¼–è¯‘å™¨èƒŒç€æˆ‘ä»¬åˆ°åº•éƒ½å¹²äº†äº›ä»€ä¹ˆã€‚æˆ‘ä»¬æœ‰æ—¶å€™åº”è¯¥é€è¿‡ç°è±¡çœ‹æœ¬è´¨ï¼Œä½†æœ‰æ—¶å€™ä¹Ÿä¸è¦å¤ªé’»ç‰›è§’å°–ï¼Œä¸€å£åƒä¸å‡ºä¸ªèƒ–å­ï¼Œå¿…è¦æ—¶â€œéš¾å¾—ç³Šæ¶‚â€ï¼Œç«™åœ¨æŠ½è±¡çš„è§’åº¦å»çœ‹äº‹æƒ…ï¼Œå¾ˆå¤šæ‰€è°“çš„â€œæœ¬è´¨â€å½’æ ¹åˆ°åº•å°±æ˜¯â€œè§„åˆ™â€ï¼Œè®©æˆ‘ä»¬è¿”æœ´å½’çœŸçœ‹çœ‹æ ‡å‡†æ˜¯æ€ä¹ˆè¯´çš„ï¼Œå¯¹äºæ–°æ‰‹å…³äºæ•°ç»„å’ŒæŒ‡é’ˆçš„åŒºåˆ«å’Œä»¥åŠä»€ä¹ˆæ—¶å€™â€œç›¸åŒâ€åªè¦è®°ä½ã€Šcä¸“å®¶ç¼–ç¨‹ã€‹ä¸­æåˆ°çš„ä¸‰ä¸ªæ ‡å‡†å’Œä¸‰ä¸ªä¾‹å¤–å°±å¯ä»¥äº†ï¼š</p> <blockquote> <p>è§„åˆ™1. è¡¨è¾¾å¼ä¸­çš„æ•°ç»„åè¢«ç¼–è¯‘å™¨å½“ä½œä¸€ä¸ªæŒ‡å‘è¯¥æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚</p> <p>è§„åˆ™2. ä¸‹æ ‡æ€»æ˜¯ä¸æŒ‡é’ˆçš„åç§»é‡ç›¸åŒã€‚</p> <p>è§„åˆ™3. åœ¨å‡½æ•°å‚æ•°çš„å£°æ˜ä¸­ï¼Œæ•°ç»„åè¢«ç¼–è¯‘å™¨å½“ä½œæŒ‡å‘è¯¥æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆã€‚</p> </blockquote> <p>åœ¨ä¸‹åˆ—çš„æƒ…å†µä¸‹ï¼Œå¯¹æ•°ç»„çš„å¼•ç”¨ä¸èƒ½ç”¨æŒ‡å‘è¯¥æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆæ¥ä»£æ›¿ï¼š</p> <blockquote> <p>ä¾‹å¤–1. æ•°ç»„ä½œä¸ºsizeof()çš„æ“ä½œæ•°ï¼Œæ˜¾ç„¶æ­¤æ—¶éœ€è¦çš„æ˜¯æ•´ä¸ªæ•°ç»„çš„å¤§å°ï¼Œè€Œä¸æ˜¯æ‰€æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ çš„å¤§å°</p> <p>ä¾‹å¤–2. ä½¿ç”¨&amp;æ“ä½œç¬¦å–æ•°ç»„çš„åœ°å€</p> <p>ä¾‹å¤–3. æ•°ç»„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡åˆå§‹åŒ–å€¼</p> </blockquote> <p>ä¸€ä¸ªå¾ˆç®€å•çš„ä¾‹å­ï¼š</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdio.h&gt;
</span>
<span class="kt">char</span> <span class="n">ga</span><span class="p">[]</span><span class="o">=</span><span class="s">"abcdrfghik"</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">method</span><span class="p">(</span><span class="kt">char</span> <span class="n">ca</span><span class="p">[])</span><span class="c1">//or char *ca</span>
<span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">" addr of arrary param = %#x </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">ca</span><span class="p">);</span>
    <span class="c1">//è§„åˆ™3</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">" (*ca) = %c </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">*</span><span class="n">ca</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">" addr (ca[0]) = %#x </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">&amp;</span><span class="p">(</span><span class="n">ca</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">" addr (ca[1]) = %#x </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">&amp;</span><span class="p">(</span><span class="n">ca</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"++ca = %#x </span><span class="se">\n\n</span><span class="s">"</span><span class="p">,</span><span class="o">++</span><span class="n">ca</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">//ä¾‹å¤–2 è¿™ä¸ªåªæ˜¯æ•°ç»„å’ŒæŒ‡é’ˆèƒ½å¤Ÿäº’æ¢çš„ä¸€ä¸ªä¾‹å¤–ã€‚è¿™é‡Œgaä»£è¡¨æ•°ç»„ï¼Œè¿™ä¸ªè·å–çš„æ•°ç»„çš„åœ°å€</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">" addr of arrary param = %#x </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">ga</span><span class="p">);</span>
    <span class="c1">//è§„åˆ™1</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">" (*ga) = %c </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">*</span><span class="n">ga</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">" addr (ga[0]) = %#x </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">&amp;</span><span class="p">(</span><span class="n">ga</span><span class="p">[</span><span class="mi">0</span><span class="p">]));</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">" addr (ga[1]) = %#x </span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">&amp;</span><span class="p">(</span><span class="n">ga</span><span class="p">[</span><span class="mi">1</span><span class="p">]));</span>
    <span class="c1">//ä¾‹å¤–1</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">" sizeof ga = %d </span><span class="se">\n\n</span><span class="s">"</span><span class="p">,</span><span class="k">sizeof</span><span class="p">(</span><span class="n">ga</span><span class="p">));</span>


    <span class="n">method</span><span class="p">(</span><span class="n">ga</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>å¦å¤–ï¼Œ</p> <p>â€œæ•°ç»„åè¢«æ”¹å†™æˆä¸€ä¸ªæŒ‡é’ˆçš„å‚æ•°â€è§„åˆ™å¹¶ä¸æ˜¯é€’å½’å®šä¹‰çš„ã€‚æ•°ç»„çš„æ•°ç»„ä¼šè¢«æ”¹å†™æˆâ€œæ•°ç»„çš„æŒ‡é’ˆâ€è€Œä¸æ˜¯â€œæŒ‡é’ˆçš„æŒ‡é’ˆâ€</p> <p>æ¯”å¦‚<code class="highlighter-rouge">char c[8][10]</code>æ‰€è¢«æ”¹å†™å¯¹åº”çš„å½¢å‚ä¸º<code class="highlighter-rouge">char (*)[10]</code>ï¼Œä¸ºâ€œæ•°ç»„çš„æŒ‡é’ˆâ€ã€‚</p> <p>ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p> <div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdio.h&gt;
#include &lt;malloc.h&gt;
</span>
<span class="n">method</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="mi">2</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
        <span class="p">}</span>

    <span class="p">}</span>

    <span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="mi">2</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="n">j</span><span class="p">));</span>
        <span class="p">}</span>

    <span class="p">}</span>

    <span class="kt">int</span> <span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">k</span><span class="o">&lt;=</span><span class="mi">5</span><span class="p">;</span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">//aæ˜¯æŒ‡å‘ int (*)[2] çš„è¡ŒæŒ‡é’ˆï¼Œ*aå³ä¸ºäºŒä½æ•°ç»„çš„é¦–è¡Œé¦–å…ƒç´ çš„åœ°å€</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="o">*</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="o">+</span><span class="n">k</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="n">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>

    <span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">=</span><span class="p">{{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">},{</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">}};</span>
    <span class="n">method</span><span class="p">(</span><span class="n">a</span><span class="p">);</span>

    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>è‡³äºæ›´æ·±å±‚çš„çŸ¥è¯†æ°´åˆ°è‡ªç„¶æ¸ æˆã€‚</p> <div class="date-highlight"> <!--1--> <a class="tag" href="/tag/c">C</a> </div> </div> </div> <script src="/js/canvas.js"></script> <script> (function() { var img = new Image(); function getResult(event) { var imgType = "png"; (event && event.type === 'load' ? img.width == 1 : false) && (imgType = "webp"); $(".block-left").css("background-image", "linear-gradient(rgba(44, 45, 51, 0.8), rgba(44, 45, 51, 0.8)), url(/images/background.png)".replace(/\.png/,"." + imgType)); } img.onerror = getResult; img.onload = getResult; img.src = 'data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA='; })(); </script> </body> </html>
