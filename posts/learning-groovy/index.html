<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><link rel="icon" href="/favicon.png"><!-- <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"> --><!--SEO_BEGIN--><!-- Begin Jekyll SEO tag v2.6.1 --><title>Groovy学习笔记 | ccat3z.xyz</title><meta name="generator" content="Jekyll v4.1.1"/><meta property="og:title" content="Groovy学习笔记"/><meta name="author" content="ccat3z"/><meta property="og:locale" content="en_US"/><meta name="description" content="干翻爪哇!"/><meta property="og:description" content="干翻爪哇!"/><link rel="canonical" href="//ccat3z.xyz/posts/learning-groovy/"/><meta property="og:url" content="//ccat3z.xyz/posts/learning-groovy/"/><meta property="og:site_name" content="ccat3z.xyz"/><meta property="og:image" content="//ccat3z.xyz/images/2019-10-19-learning-groovy/groovy-logo.svg"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2019-10-19T17:35:49+08:00"/><script type="application/ld+json">{"@type":"BlogPosting","author":{"@type":"Person","name":"ccat3z"},"headline":"Groovy学习笔记","dateModified":"2019-10-19T17:35:49+08:00","datePublished":"2019-10-19T17:35:49+08:00","image":"//ccat3z.xyz/images/2019-10-19-learning-groovy/groovy-logo.svg","mainEntityOfPage":{"@type":"WebPage","@id":"//ccat3z.xyz/posts/learning-groovy/"},"description":"干翻爪哇!","url":"//ccat3z.xyz/posts/learning-groovy/","@context":"https://schema.org"}</script><!-- End Jekyll SEO tag --><!--SEO_END--><link href="/static/css/main.f86f9fc5.chunk.css" rel="stylesheet"></head><body><div id="blog"></div><div id="blog-data"><div id="blog-data-content"><div class="post"><div class="post-info"><span class="post-id">/posts/learning-groovy</span> <a href="/posts/learning-groovy/" class="post-title">Groovy学习笔记 </a><span class="post-date">19 Oct 2019</span><p class="post-description">干翻爪哇!</p><ul class="post-tags"><li><a href="/tag/groovy" class="post-tag">Groovy</a></li><li><a href="/tag/learning" class="post-tag">Learning</a></li></ul><img class="post-image" src="/images/2019-10-19-learning-groovy/groovy-logo.svg"/></div><div class="content"><h1 id="groovy学习笔记">Groovy学习笔记</h1><p>开始<del>再一次</del>学习Java. 不过在学Java之前, 得先看看流行的Java构建工具, 免得被IDE偷偷干活. 现在比较流行(大概)Gradle, 相比Maven来说, gradle使用Groovy脚本语言来配置, 显得更加灵活, 非常适合我这种喜欢魔改的人. 学习Gradle的前置条件是Groovy, 但Groovy的前置条件是Java, <del>于是我陷入死锁, 此文终结</del>. 本文<strong>并非深入Groovy</strong>, 只是简单罗列Groovy的语言特点, 方便快速入门, 看懂并简单使用Groovy的魔法.</p><h2 id="学习资料">学习资料</h2><ul><li><a href="https://groovy-lang.org/">groovy-lang.org</a></li><li><a href="https://docs.groovy-lang.org/">docs.groovy-lang.org</a></li></ul><p>官方站点有完善的文档, 并推荐了不少书籍. 入门足够了.</p><h2 id="概述">概述</h2><blockquote><p>Apache的Groovy是Java平台上设计的面向对象编程语言。 这门动态语言拥有类似Python、Ruby和Smalltalk中的一些特性， 可以作为Java平台的脚本语言使用， Groovy代码动态地编译成运行于Java虚拟机上的Java字节码， 并与其他Java代码和库进行互操作。– Wikipedia</p></blockquote><p>Groovy基于JVM, 扩展了Java语法, 并且使其具动态语言的性质. Groovy并非Java的语法糖, 但与Java无缝衔接.</p><p><img src="/images/2019-10-19-learning-groovy/groovy-and-java.png" alt=""/></p><p>Groovy和其他脚本语言类似, 可以通过<code class="language-plaintext highlighter-rouge">groovy *.groovy</code>直接运行, 也提供了REPL(<code class="language-plaintext highlighter-rouge">groovysh</code>). 比较特别的是, Groovy可以通过<code class="language-plaintext highlighter-rouge">groovyc</code>直接编译成jvm的<code class="language-plaintext highlighter-rouge">bytecode</code>.</p><h2 id="关键词">关键词</h2><p>as, assert, break, case, catch, class, const, continue, <strong>def</strong>, default, do, else, enum, extends, false, finally, for, goto, if, implements, import, in, instanceof, interface, new, null, package, return, super, switch, this, throw, throws, <strong>trait</strong>, true, try, while</p><p>Groovy的关键词和Java其实差不多. <code class="language-plaintext highlighter-rouge">def</code>声明变量等.</p><h2 id="程序结构">程序结构</h2><p>Groovy的程序结构和Java是类似的.</p><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// defining a package named com.yoursite</span>
<span class="kn">package</span> <span class="nn">com.yoursite</span>
<span class="c1">// importing the class MarkupBuilder</span>
<span class="kn">import</span> <span class="nn">groovy.xml.MarkupBuilder</span>

<span class="c1">// using the imported class to create an object</span>
<span class="kt">def</span> <span class="n">xml</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MarkupBuilder</span><span class="o">()</span>

<span class="k">assert</span> <span class="n">xml</span> <span class="o">!=</span> <span class="kc">null</span>
</code></pre></div></div><p>Groovy默认import了一些包:</p><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.lang.*</span>
<span class="kn">import</span> <span class="nn">java.util.*</span>
<span class="kn">import</span> <span class="nn">java.io.*</span>
<span class="kn">import</span> <span class="nn">java.net.*</span>
<span class="kn">import</span> <span class="nn">groovy.lang.*</span>
<span class="kn">import</span> <span class="nn">groovy.util.*</span>
<span class="kn">import</span> <span class="nn">java.math.BigInteger</span>
<span class="kn">import</span> <span class="nn">java.math.BigDecimal</span>
</code></pre></div></div><h3 id="import-alias">import alias</h3><p>和javascript和python等语言一样, groovy支持import别名</p><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">java.sql.Date</span> <span class="k">as</span> <span class="n">SQLDate</span>
</code></pre></div></div><h3 id="public-static-void-main">public static void main</h3><p>Groovy支持和Java一样的<code class="language-plaintext highlighter-rouge">public static void main</code>类作为程序入口, 也支持脚本的样式. 一下两端效果是一样的:</p><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>                                    
    <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>          
        <span class="n">println</span> <span class="s1">'Groovy world!'</span>                 
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div><div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">println</span> <span class="s1">'Groovy world!'</span>
</code></pre></div></div><p>不过脚本的样式在编译时会使用<code class="language-plaintext highlighter-rouge">groovy.lang.Script</code>包裹</p></div></div></div><div id="blog-data-page-pagination"></div><div id="blog-data-nav"><ul><li><a href="/" class="icon-home">home</a></li><li><a href="/posts/" class="icon-create">post</a></li><li><a href="/love/" class="icon-favorite">love</a></li></ul></div></div><script src="/static/js/runtime-main.26ceb475.js"></script><script src="/static/js/2.4c4b9d9d.chunk.js"></script><script src="/static/js/main.e5921d51.chunk.js"></script></body></html>