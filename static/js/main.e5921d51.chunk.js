(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{18:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var a=n(0);var r=n(17),c=n(8);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:"pending"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"pending":return{error:void 0,result:e.result,state:"pending"};case"resolved":return{error:void 0,result:t.payload,state:"resolved"};case"rejected":return{error:t.payload,result:e.result,state:"rejected"};default:return e}}function o(e,t){var n=Object(a.useReducer)(l,{state:"pending"}),o=Object(c.a)(n,2),s=o[0],u=s.error,i=s.result,m=s.state,p=o[1],f=function(){var e=Object(a.useState)(!0),t=Object(c.a)(e,2),n=t[0],r=t[1];return[n,function(){r(!n)}]}(),d=Object(c.a)(f,2),v=d[0],b=d[1];Object(a.useEffect)((function(){var t=function(e){return"function"===typeof e?e():e}(e);if(void 0!==t){var n=!1;return p({type:"pending"}),t.then((function(e){return!n&&p({payload:e,type:"resolved"})}),(function(e){return!n&&p({payload:e,type:"rejected"})})),function(){n=!0}}}),[].concat(Object(r.a)(t),[v]));var h=Object(a.useCallback)((function(){"pending"!==m&&b()}),[b,m]);return{data:i,error:u,state:m,retry:h}}var s=n(9),u=n.n(s),i=n(16),m=!0;function p(e){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m||t!==document.location.pathname){e.next=4;break}n=document.getElementsByTagName("html")[0].innerHTML,e.next=10;break;case 4:return e.next=6,fetch(t,{redirect:"follow"});case 6:return a=e.sent,e.next=9,a.text();case 9:n=e.sent;case 10:return m=!1,e.next=13,d(n);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(u.a.mark((function e(t){var n,a,r,c,l,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=document.createElement("html")).innerHTML=t,c=(null===(n=r.querySelector("head > title"))||void 0===n||null===(a=n.textContent)||void 0===a?void 0:a.trim())||"",l=r.querySelector("[id=blog-data]")||document.createElement("div"),o=g(l),s=r.querySelector("head"),e.abrupt("return",{title:c,nav:h(l),pagination:E(l),content:null===o||void 0===o?void 0:o.element,type:(null===o||void 0===o?void 0:o.type)||"empty",seo:s?b(s):{nodes:[]}});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){for(var t=[],n=0;n<e.childNodes.length&&(8!==e.childNodes[n].nodeType||"SEO_BEGIN"!==e.childNodes[n].nodeValue);)++n;for(;n<e.childNodes.length&&(8!==e.childNodes[n].nodeType||"SEO_END"!==e.childNodes[n].nodeValue);)t.push(e.childNodes[n]),++n;return n!==e.childNodes.length&&t.push(e.childNodes[n]),{nodes:t}}function h(e){var t=Array.from(e.querySelectorAll("#blog-data-nav > ul > li > a")).map((function(e){return{name:e.textContent,href:e.getAttribute("href"),icon:((e.getAttribute("class")||"").split(" ").filter((function(e){return/^icon-/.test(e)}))[0]||"icon-default").replace(/^icon-/,"")}}));if(0!==t.length)return t}function E(e){var t=Array.from(e.querySelectorAll("#blog-data-page-pagination > ul > li > a")).map((function(e){var t;if(e.classList.contains("pagination-pager-current"))t=!0;else{if(!e.classList.contains("pagination-pager"))return;t=!1}return{name:e.textContent,href:e.getAttribute("href")||"#",current:t}})).filter(Boolean);if(0!==t.length)return t}function g(e){var t=e.querySelector("#blog-data-content > div");if(t)return{type:t.className,element:t}}},3:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return h}));var a=n(17),r=n(9),c=n.n(r),l=n(16),o=n(0),s=n.n(o),u=n(1),i=n(18),m={title:"loading",type:"splash",seo:{nodes:[]}},p=s.a.createContext(m);function f(){return Object(o.useContext)(p)}var d={state:"resolved",retry:function(){}},v=s.a.createContext(d);function b(){return Object(o.useContext)(v)}function h(t){var n=Object(u.d)().push;e.router=n;var r=Object(u.e)().pathname,f=Object(i.c)(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i.a)(r));case 1:case"end":return e.stop()}}),e)}))),[r]),d=f.data,b=f.state,h=f.retry,E=Object(o.useMemo)((function(){return d||m}),[d]),g=Object(o.useMemo)((function(){return{state:b,retry:h}}),[b,h]);return Object(o.useEffect)((function(){var e;Object(i.b)(document.head).nodes.forEach((function(e){return e.remove()})),(e=document.head).append.apply(e,Object(a.a)(E.seo.nodes))}),[E]),s.a.createElement(p.Provider,{value:E},s.a.createElement(v.Provider,{value:g},t.children))}}).call(this,n(20))},32:function(e,t,n){e.exports=n(53)},4:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return i}));var a=n(12),r=n(0),c=n.n(r),l=n(3);var o=[],s={type:"fallback",component:function(){var e=Object(l.b)().type;return c.a.createElement("div",null,"cannot recognize the page type: ",e)}};function u(e){"fallback"===e.type?s.component=e.component:o.push(e)}function i(){var e,t=Object(l.b)();Object(r.useEffect)((function(){document.documentElement.scrollTop=0}),[t]);var n,u=Object(a.a)(o);try{for(u.s();!(n=u.n()).done;){var i=n.value;if(i.type===t.type){e=c.a.createElement(i.component,null);break}}}catch(m){u.e(m)}finally{u.f()}return void 0===e&&(e=c.a.createElement(s.component,null)),c.a.createElement(c.a.Fragment,null,e)}},52:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4);Object(c.b)({type:"fallback",component:function(){return r.a.createElement("div",null,"WIP")}})},53:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(29),l=n.n(c),o=n(11),s=n(4),u=n(3),i=n(12),m=n(8),p=n(1),f=n(31),d=n.n(f);function v(e){return r.a.createElement("span",{className:"command"},e.text)}function b(e){var t=Object(u.b)().pagination,n=Object(p.d)().push,c=Object(a.useCallback)(d()((function(e){void 0!==t&&(e<1||e>t.length||n(t[e-1].href))}),500),[n,t]),l=Object(a.useState)(e.page),o=Object(m.a)(l,2),s=o[0],i=o[1],f=Object(a.useCallback)((function(e){1<=e&&e<=(t||[]).length&&i(e)}),[i,t]);Object(a.useEffect)((function(){return c(s)}),[s]);var v=r.a.createElement(r.a.Fragment,null);if(void 0!==t){var b=t.length;v=r.a.createElement("span",{className:"auto-complete"},"\xa0of ",b,"\xa0",r.a.createElement("span",{className:"page-btns"},"(",r.a.createElement("a",{onClick:function(){return f(s-1)},className:"page-btn ".concat(1===s?"disabled":"")},"prev"),",\xa0",r.a.createElement("a",{onClick:function(){return f(s+1)},className:"page-btn ".concat(s===b?"disabled":"")},"next"),")"))}return r.a.createElement("span",{className:"pager command"},"page\xa0",r.a.createElement("input",{value:s,onChange:function(e){return f(parseInt(e.target.value))},type:"number"}),v)}var h=[function(e){if("/"===e.pathname)return r.a.createElement(v,{text:"screenfetch"})},function(e){var t=e.pathname.match(/^\/posts(?:|\/(\d*))\/?$/);if(null!==t){var n=parseInt(t[1]||"1");return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{text:"ls /posts"}),r.a.createElement(b,{page:n}))}},function(e){var t=e.pathname.match(/^\/posts\/([^/]{1,})\/?$/);if(null!==t)return r.a.createElement(v,{text:"open /posts/".concat(t[1])})},function(e){var t=e.pathname.match(/^\/tag\/([^/]{1,})\/?$/);if(null!==t)return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{text:"ls /posts"}),r.a.createElement(v,{text:"filter --tag='".concat(t[1],"'")}))},function(e){var t="cat "+e.pathname.replace(/\/$/,"").replace(/\.[^./]*/,"");return r.a.createElement(v,{text:t})}];function E(e){var t,n=Object(u.b)(),a=Object(u.c)(),c=a.state,l=a.retry,o=Object(p.d)().push,s=Object(p.e)().pathname;return r.a.createElement("div",{className:"terminal-nav blog-header ".concat(e.className||"")},r.a.createElement("div",{className:"command-line"},r.a.createElement("span",{className:"ps1 ".concat(c),onClick:function(){"rejected"===c?l():o("/")}}),r.a.createElement("span",{className:"command-pipeline"},function(e){var t,n=void 0,a=Object(i.a)(h);try{for(a.s();!(t=a.n()).done;)if(void 0!==(n=(0,t.value)(e)))return n}catch(r){a.e(r)}finally{a.f()}}({pathname:s})),"pending"===c&&r.a.createElement("span",{style:{margin:"0 0.3em",color:"var(--secondary-color)"}},"...")),r.a.createElement("nav",{className:"terminal-menu",style:{width:"auto",flexGrow:1}},r.a.createElement("ul",null,(null!==(t=n.nav)&&void 0!==t?t:[]).map((function(e){return r.a.createElement("li",{key:e.name},r.a.createElement("a",{className:"menu-item",onClick:function(){o(e.href)}},e.name))})))))}function g(e){return r.a.createElement("div",{className:"blog-root-page"},r.a.createElement("div",{className:"header-box"},r.a.createElement(E,{className:"header"})),r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"content"},e.children)))}function y(e){return r.a.createElement("div",{className:e.className,style:e.style,ref:function(t){t&&(t.appendChild(e.element),t.querySelectorAll("script").forEach((function(e){window.eval(e.innerHTML)})))}})}function N(e){var t,n=e.querySelector(".post-id");if(n&&n.textContent){var a=e.querySelector("a.post-title"),r=e.querySelector(".post-date"),c=e.querySelector(".post-description"),l=Array.from(e.querySelectorAll(".post-tags > li > a.post-tag"));return{id:n.textContent,title:(null===a||void 0===a||null===(t=a.textContent)||void 0===t?void 0:t.trim())||"",href:(null===a||void 0===a?void 0:a.getAttribute("href"))||"#",date:(null===r||void 0===r?void 0:r.textContent)||"",abstract:(null===c||void 0===c?void 0:c.textContent)||"",tags:l.map((function(e){return{name:e.textContent||"",href:e.getAttribute("href")||"#"}}))}}}Object(s.b)({type:"splash",component:function(){return r.a.createElement(r.a.Fragment,null)}}),Object(s.b)({type:"home",component:function(){var e=Object(u.b)(),t=Object(a.useMemo)((function(){var t;return null===(t=e.content)||void 0===t?void 0:t.querySelector(".message")}),[e.content]);return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(y,{element:t}))}}),Object(s.b)({type:"posts-list",component:function(){var e=Object(u.b)().content,t=Object(p.d)().push,n=Object(a.useMemo)((function(){return e?(t=e,Array.from(t.querySelectorAll("ul.posts-list > li")).map((function(e){return N(e)||{id:"ERROR".concat(Math.random().toString().substr(2,10)),title:"ERROR",href:"#",date:"",abstract:"",tags:[]}}))):[];var t}),[e]);return r.a.createElement("div",{className:"posts-list"},n.map((function(e){return r.a.createElement("div",{className:"post-item",key:e.href},r.a.createElement("div",{className:"title-line"},r.a.createElement("span",{className:"date"},e.date),r.a.createElement("a",{href:e.href,onClick:function(n){t(e.href),n.stopPropagation(),n.preventDefault()},className:"title"},e.title.trim()),r.a.createElement("div",{className:"tags-group"},e.tags.map((function(e){return r.a.createElement("span",{className:"tag-box",key:e.href},r.a.createElement("a",{className:"tag",href:e.href,onClick:function(n){n.stopPropagation(),n.preventDefault(),t(e.href)}},e.name))})))),r.a.createElement("div",{className:"abstract"},e.abstract))})))}}),Object(s.b)({type:"message",component:function(){var e=Object(u.b)(),t=Object(a.useMemo)((function(){var t;return null===(t=e.content)||void 0===t?void 0:t.querySelector(".message")}),[e.content]);return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(y,{element:t}))}});var O=n(23),j=function(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),c=n[0],l=n[1];return r.a.createElement("div",null,r.a.createElement("div",null,c||e.loading||"loading comments..."),r.a.createElement("section",{className:e.className,style:e.style,ref:function(t){if(t&&!(t.children.length>0)){l(!1),new ResizeObserver((function(e,t){var n,a=Object(i.a)(e);try{for(a.s();!(n=a.n()).done;){if(n.value.contentRect.height>0)return l(!0),void t.disconnect()}}catch(r){a.e(r)}finally{a.f()}})).observe(t);var n=document.createElement("script");n.src="https://utteranc.es/client.js",n.async=!0,n.crossOrigin="anonymous",n.setAttribute("repo","ccat3z/blog.ccat3z.xyz"),n.setAttribute("issue-term",e.term),n.setAttribute("label","blog comment"),n.setAttribute("theme","github-light"),t.appendChild(n)}}}))};function x(e){var t=Object(a.useMemo)((function(){return function(e){var t=e.querySelector(".post-info");if(t){var n=N(t);if(n){var a=e.querySelector(".content");if(a)return{postInfo:n,content:a}}}}(e.data.content)}),[e.data.content]),n=Object(p.d)().push;return t?r.a.createElement("div",{className:"post-page"},r.a.createElement("pre",{className:"post-info-box highlight"},r.a.createElement("code",null,r.a.createElement("span",{className:"nn"},"---"),r.a.createElement("br",null),r.a.createElement("span",{className:"na"},"title"),r.a.createElement("span",{className:"pi"},":")," ",r.a.createElement("span",{className:"s"},t.postInfo.title),r.a.createElement("br",null),r.a.createElement("span",{className:"na"},"date"),r.a.createElement("span",{className:"pi"},":")," ",r.a.createElement("span",{className:"s"},t.postInfo.date),r.a.createElement("br",null),r.a.createElement("span",{className:"na"},"description"),r.a.createElement("span",{className:"pi"},":")," ",r.a.createElement("span",{className:"pi"},"|-"),r.a.createElement("br",null),r.a.createElement("span",{style:{width:"100%",display:"inline-flex",flexDirection:"row"}},r.a.createElement("span",null,"  "),r.a.createElement("span",{className:"s",style:{display:"inline-block"}},t.postInfo.abstract)),r.a.createElement("br",null),r.a.createElement("span",{className:"na"},"tags"),r.a.createElement("span",{className:"pi"},":")," ",r.a.createElement("span",{className:"pi"},"["),t.postInfo.tags.map((function(e,t,a){var c=a.length;return r.a.createElement(r.a.Fragment,{key:e.href},r.a.createElement("a",{className:"tag sx",href:e.href,onClick:function(t){t.stopPropagation(),t.preventDefault(),n(e.href)}},e.name),t!==c-1&&r.a.createElement("span",{className:"pi"},", "))})),r.a.createElement("span",{className:"pi"},"]"),r.a.createElement("br",null))),r.a.createElement(y,{className:"post-content",element:t.content}),r.a.createElement("hr",{className:"footer-line"}),r.a.createElement(j,{className:"comments",term:"Comment: ".concat(t.postInfo.id)})):r.a.createElement(r.a.Fragment,null)}Object(s.b)({type:"post",component:function(){var e=Object(u.b)();return"post"===e.type&&void 0!==e.content?r.a.createElement(x,{data:Object(O.a)(Object(O.a)({},e),{},{type:e.type,content:e.content})}):r.a.createElement(r.a.Fragment,null)}}),n(52);var C=function(){return r.a.createElement(o.a,null,r.a.createElement(u.a,null,r.a.createElement(g,null,r.a.createElement(s.a,null))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("blog"));var k=document.getElementById("blog-data");k&&(k.style.display="none")}},[[32,1,2]]]);
//# sourceMappingURL=main.e5921d51.chunk.js.map